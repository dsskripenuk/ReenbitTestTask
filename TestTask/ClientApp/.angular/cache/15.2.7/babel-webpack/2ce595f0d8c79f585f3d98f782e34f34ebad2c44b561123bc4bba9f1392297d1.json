{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HomeComponent_label_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getError(ctx_r0.form.get(\"email\")), \" \");\n  }\n}\nexport class HomeComponent {\n  getError(control) {\n    if (control.errors?.required && control.touched) return 'This field is required!';else if (control.errors?.emailError && control.touched) return 'Please enter valid email address!';else return '';\n  }\n  customeEmailValidator(control) {\n    const pattern = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,20}$/;\n    const value = control.value;\n    if (!pattern.test(value) && control.touched) return {\n      emailError: true\n    };else this.emailValue = value;\n    return null;\n  }\n  constructor(http) {\n    this.http = http;\n    this.emailIsValid = false;\n    this.form = new FormGroup({\n      email: new FormControl(\"\", [Validators.required, this.customeEmailValidator])\n    });\n  }\n  ngOnInit() {}\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  onUpload() {\n    const filedata = new FormData();\n    filedata.append('image', this.selectedFile, this.selectedFile.name);\n    this.http.post('https://localhost:7000/api/fileupload', filedata).subscribe(res => {\n      console.log(res);\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 26,\n  vars: 2,\n  consts: [[1, \"container\", \"px-4\", \"py-5\", \"mx-auto\"], [1, \"card\", \"card0\"], [1, \"d-flex\", \"flex-lg-row\", \"flex-column-reverse\"], [1, \"card\", \"card1\"], [1, \"row\", \"justify-content-center\", \"my-auto\"], [1, \"col-md-8\", \"col-10\", \"my-5\"], [1, \"mb-5\", \"text-center\", \"heading\"], [1, \"msg-info\"], [3, \"formGroup\"], [1, \"form-group\"], [1, \"form-control-label\", \"text-muted\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [1, \"row\", \"justify-content-center\", \"my-3\", \"px-3\"], [\"type\", \"file\", \"accept\", \".docx\", 1, \"btn-block\", \"btn-color\", 3, \"change\"], [1, \"bottom\", \"text-center\", \"mb-5\"], [\"type\", \"button\", \"value\", \"upload\", 1, \"btn\", \"btn-white\", \"ml-2\", 3, \"click\"], [1, \"card\", \"card2\"], [1, \"my-auto\", \"mx-md-5\", \"px-md-5\", \"right\"], [1, \"text-white\"], [1, \"text-danger\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h3\", 6);\n      i0.ɵɵtext(7, \"We are Tidi\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"h6\", 7);\n      i0.ɵɵtext(9, \"Please enter your email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"form\", 8)(11, \"div\", 9)(12, \"label\", 10);\n      i0.ɵɵtext(13, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 11);\n      i0.ɵɵtemplate(15, HomeComponent_label_15_Template, 2, 1, \"label\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"input\", 14);\n      i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_17_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 15)(19, \"input\", 16);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_input_click_19_listener() {\n        return ctx.onUpload();\n      });\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(20, \"div\", 17)(21, \"div\", 18)(22, \"h3\", 19);\n      i0.ɵɵtext(23, \"We are more than just a company\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"small\", 19);\n      i0.ɵɵtext(25, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.getError(ctx.form.get(\"email\")));\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAEA,SAA0BA,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;ICiCpEC,iCAA+D;IAC7DA,YAGJ;IAAAA,iBAAQ;;;;IAHJA,eAGJ;IAHIA,0EAGJ;;;AD9Bd,OAAM,MAAOC,aAAa;EAU1BC,QAAQ,CAACC,OAAW;IAChB,IAAGA,OAAO,CAACC,MAAM,EAAEC,QAAQ,IAAIF,OAAO,CAACG,OAAO,EAC5C,OAAO,yBAAyB,CAAC,KAC9B,IAAGH,OAAO,CAACC,MAAM,EAAEG,UAAU,IAAIJ,OAAO,CAACG,OAAO,EACnD,OAAO,mCAAmC,CAAC,KACxC,OAAO,EAAE;EAClB;EAEAE,qBAAqB,CAACL,OAAuB;IACzC,MAAMM,OAAO,GAAG,mCAAmC;IACnD,MAAMC,KAAK,GAAGP,OAAO,CAACO,KAAK;IAC3B,IAAG,CAACD,OAAO,CAACE,IAAI,CAACD,KAAK,CAAC,IAAIP,OAAO,CAACG,OAAO,EACxC,OAAO;MACLC,UAAU,EAAC;KACZ,MAED,IAAI,CAACK,UAAU,GAAGF,KAAK;IACvB,OAAO,IAAI;EACjB;EAGAG,YAAoBC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;IA1BxB,iBAAY,GAAY,KAAK;IAC7B,SAAI,GAAY,IAAIhB,SAAS,CAAC;MAC5BiB,KAAK,EAAC,IAAIlB,WAAW,CAAC,EAAE,EAAC,CAACE,UAAU,CAACM,QAAQ,EAAC,IAAI,CAACG,qBAAqB,CAAC;KAC1E,CAAC;EAuBoC;EAEtCQ,QAAQ,IAER;EAEAC,cAAc,CAACC,KAAU;IACvB,IAAI,CAACC,YAAY,GAASD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EACjD;EAEAC,QAAQ;IAEN,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACN,YAAY,EAAE,IAAI,CAACA,YAAY,CAACO,IAAI,CAAC;IACnE,IAAI,CAACZ,IAAI,CAACa,IAAI,CAAmB,uCAAuC,EAAEJ,QAAQ,CAAC,CAClFK,SAAS,CAACC,GAAG,IAAE;MACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EACJ;;AAjDa5B,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCW1BpC,8BAAyC;MAOQA,2BAAW;MAAAA,iBAAK;MACrDA,6BAAqB;MAAAA,uCAAuB;MAAAA,iBAAK;MAEjDA,gCAAyB;MAGwBA,sBAAK;MAAAA,iBAAQ;MAC1DA,6BAA6G;MAC7GA,qEAIM;MACRA,iBAAM;MAENA,gCAAkD;MACDA;QAAA,OAAUqC,0BAAsB;MAAA,EAAC;MAAhFrC,iBAAgG;MAGlGA,gCAAqC;MAC4BA;QAAA,OAASqC,cAAU;MAAA,EAAC;MAAnFrC,iBAAoF;MAQ9FA,gCAAwB;MAEGA,gDAA+B;MAAAA,iBAAK;MAACA,kCAA0B;MAAAA,yPAG1E;MAAAA,iBAAQ;;;MA9BZA,gBAAkB;MAAlBA,oCAAkB;MAKQA,eAAiC;MAAjCA,0DAAiC","names":["FormControl","FormGroup","Validators","i0","HomeComponent","getError","control","errors","required","touched","emailError","customeEmailValidator","pattern","value","test","emailValue","constructor","http","email","ngOnInit","onFileSelected","event","selectedFile","target","files","onUpload","filedata","FormData","append","name","post","subscribe","res","console","log","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Work\\TestTask\\TestTask\\ClientApp\\src\\app\\home\\home.component.ts","D:\\Work\\TestTask\\TestTask\\ClientApp\\src\\app\\home\\home.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AbstractControl, FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\n\r\nexport class HomeComponent implements OnInit{\r\n  \r\nselectedFile!: File;\r\n\r\nemailValue!: string;\r\nemailIsValid: boolean = false;\r\nform:FormGroup =new FormGroup({\r\n  email:new FormControl(\"\",[Validators.required,this.customeEmailValidator])\r\n})\r\n\r\ngetError(control:any) : string {\r\n    if(control.errors?.required && control.touched)\r\n      return 'This field is required!';\r\n    else if(control.errors?.emailError && control.touched)\r\n      return 'Please enter valid email address!';\r\n    else return '';\r\n}\r\n\r\ncustomeEmailValidator(control:AbstractControl) {\r\n    const pattern = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,20}$/;\r\n    const value = control.value;\r\n    if(!pattern.test(value) && control.touched) \r\n      return {\r\n        emailError:true\r\n      }\r\n    else \r\n      this.emailValue = value;\r\n      return null;\r\n}\r\n\r\n\r\nconstructor(private http: HttpClient){}\r\n\r\nngOnInit(): void {\r\n\r\n}\r\n\r\nonFileSelected(event: any){\r\n  this.selectedFile = <File>event.target.files[0];\r\n}\r\n\r\nonUpload(){\r\n  \r\n  const filedata = new FormData();\r\n  filedata.append('image', this.selectedFile, this.selectedFile.name);\r\n  this.http.post<{ path: string }>('https://localhost:7000/api/fileupload', filedata)\r\n  .subscribe(res=>{\r\n    console.log(res);\r\n  })\r\n}\r\n\r\n}\r\n\r\n\r\n","<!--<h1>Hello, world!</h1>\r\n<p>Welcome to your new single-page application, built with:</p>\r\n<ul>\r\n  <li><a href='https://get.asp.net/'>ASP.NET Core</a> and <a href='https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx'>C#</a> for cross-platform server-side code</li>\r\n  <li><a href='https://angular.io/'>Angular</a> and <a href='http://www.typescriptlang.org/'>TypeScript</a> for client-side code</li>\r\n  <li><a href='http://getbootstrap.com/'>Bootstrap</a> for layout and styling</li>\r\n</ul>\r\n<p>To help you get started, we've also set up:</p>\r\n<ul>\r\n  <li><strong>Client-side navigation</strong>. For example, click <em>Counter</em> then <em>Back</em> to return here.</li>\r\n  <li><strong>Angular CLI integration</strong>. In development mode, there's no need to run <code>ng serve</code>. It runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file.</li>\r\n  <li><strong>Efficient production builds</strong>. In production mode, development-time features are disabled, and your <code>dotnet publish</code> configuration automatically invokes <code>ng build</code> to produce minified, ahead-of-time compiled JavaScript files.</li>\r\n</ul>-->\r\n\r\n\r\n\r\n<!-- <input type=\"file\" (change)=\"onFileSelected($event)\" accept=\".docx\">\r\n<input type=\"button\" value=\"upload\" (click)=\"onUpload()\"> -->\r\n\r\n\r\n<div class=\"container px-4 py-5 mx-auto\">\r\n  <div class=\"card card0\">\r\n    <div class=\"d-flex flex-lg-row flex-column-reverse\">\r\n      <div class=\"card card1\">\r\n        <div class=\"row justify-content-center my-auto\">\r\n          <div class=\"col-md-8 col-10 my-5\">\r\n            \r\n            <h3 class=\"mb-5 text-center heading\">We are Tidi</h3>\r\n            <h6 class=\"msg-info\">Please enter your email</h6>\r\n\r\n            <form [formGroup]=\"form\">\r\n              \r\n              <div class=\"form-group\"> \r\n                <label class=\"form-control-label text-muted\">Email</label> \r\n                <input type=\"email\" formControlName=\"email\" id=\"email\" name=\"email\" placeholder=\"Email\" class=\"form-control\"> \r\n                <label class=\"text-danger\" *ngIf=\"getError(form.get('email'))\">\r\n                  {{\r\n                      getError(form.get('email'))\r\n                  }}\r\n              </label>\r\n              </div>\r\n              \r\n              <div class=\"row justify-content-center my-3 px-3\">\r\n                <input class=\"btn-block btn-color\" type=\"file\" (change)=\"onFileSelected($event)\" accept=\".docx\">\r\n              </div>\r\n              \r\n              <div class=\"bottom text-center mb-5\">\r\n                <input class=\"btn btn-white ml-2\" type=\"button\" value=\"upload\" (click)=\"onUpload()\">\r\n              </div>\r\n            </form>\r\n            \r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"card card2\">\r\n        <div class=\"my-auto mx-md-5 px-md-5 right\">\r\n          <h3 class=\"text-white\">We are more than just a company</h3> <small class=\"text-white\">Lorem ipsum dolor sit\r\n            amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut\r\n            enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\r\n            consequat.</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}