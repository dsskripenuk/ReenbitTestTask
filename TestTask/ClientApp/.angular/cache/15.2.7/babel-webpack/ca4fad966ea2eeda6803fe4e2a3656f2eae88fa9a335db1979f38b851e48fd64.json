{"ast":null,"code":"import utils from \"./utils\";\nimport domUtils from \"./dom-utils\";\nconst positionElement = settings => {\n  const {\n    anchor,\n    currentLocation,\n    element,\n    anchorAlign,\n    elementAlign,\n    collisions,\n    margin,\n    scale\n  } = settings;\n  const currentScale = scale || 1;\n  const elementOffset = domUtils.offsetAtPoint(element, currentLocation);\n  const elementRect = utils.scaleRect(elementOffset, currentScale);\n  const anchorOffset = utils.scaleRect(domUtils.offset(anchor), currentScale);\n  const anchorRect = utils.eitherRect(anchorOffset, currentLocation);\n  const viewPort = settings.viewPort || domUtils.windowViewPort(element);\n  viewPort.width = viewPort.width / currentScale;\n  viewPort.height = viewPort.height / currentScale;\n  const result = domUtils.restrictToView({\n    anchorAlign,\n    anchorRect,\n    collisions,\n    elementAlign,\n    elementRect,\n    margin,\n    viewPort\n  });\n  const offset = domUtils.addOffset(currentLocation, result.offset);\n  return {\n    flip: result.flip,\n    flipped: result.flipped,\n    fit: result.fit,\n    fitted: result.fitted,\n    offset: offset\n  };\n};\nexport default positionElement;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}