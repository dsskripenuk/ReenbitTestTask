{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./UploadService\";\nexport class HomeComponent {\n  constructor(uploadService) {\n    this.uploadService = uploadService;\n    this.filename = '';\n    this.imageSource = '';\n  }\n  setFilename(files) {\n    if (files[0]) {\n      this.filename = files[0].name;\n    }\n  }\n  save(files) {\n    const formData = new FormData();\n    if (files[0]) {\n      formData.append(files[0].name, files[0]);\n    }\n    this.uploadService.upload(formData).subscribe(({\n      path\n    }) => this.imageSource = path);\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UploadService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 11,\n  vars: 2,\n  consts: [[\"type\", \"button\", 3, \"click\"], [\"hidden\", \"\", \"type\", \"file\", \"id\", \"file\", 3, \"change\"], [\"fileInput\", \"\"], [3, \"src\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_0_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(3);\n        return i0.ɵɵresetView(_r0.click());\n      });\n      i0.ɵɵtext(1, \" Choose File\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"input\", 1, 2);\n      i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_2_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(3);\n        return i0.ɵɵresetView(ctx.setFilename(_r0.files));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"label\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_7_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(3);\n        return i0.ɵɵresetView(ctx.save(_r0.files));\n      });\n      i0.ɵɵtext(8, \" Save\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"br\")(10, \"img\", 3);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.filename);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"src\", ctx.imageSource, i0.ɵɵsanitizeUrl);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;AAOA,OAAM,MAAOA,aAAa;EAKxBC,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAJjC,aAAQ,GAAG,EAAE;IAEb,gBAAW,GAAG,EAAE;EAEmC;EAEnDC,WAAW,CAACC,KAAU;IACpB,IAAIA,KAAK,CAAC,CAAC,CAAC,EAAE;MACZ,IAAI,CAACC,QAAQ,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACE,IAAI;;EAEjC;EAEAC,IAAI,CAACH,KAAU;IACb,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAE/B,IAAIL,KAAK,CAAC,CAAC,CAAC,EAAE;MACZI,QAAQ,CAACE,MAAM,CAACN,KAAK,CAAC,CAAC,CAAC,CAACE,IAAI,EAAEF,KAAK,CAAC,CAAC,CAAC,CAAC;;IAG1C,IAAI,CAACF,aAAa,CACfS,MAAM,CAACH,QAAQ,CAAC,CAChBI,SAAS,CAAC,CAAC;MAAEC;IAAI,CAAE,KAAM,IAAI,CAACC,WAAW,GAAGD,IAAK,CAAC;EACvD;;AAvBWb,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCS1BC,iCAAkD;MAA5BA;QAAAA;QAAA;QAAA,OAASA,0BAAiB;MAAA,EAAC;MAC/CA,8BACF;MAAAA,iBAAS;MACTA,mCAME;MADAA;QAAAA;QAAA;QAAA,OAAUA,yCAA4B;MAAA,EAAC;MALzCA,iBAME;MACFA,6BAAO;MAAAA,YAAc;MAAAA,iBAAQ;MAC7BA,qBAAM;MACNA,iCAAsD;MAAhCA;QAAAA;QAAA;QAAA,OAASA,kCAAqB;MAAA,EAAC;MACnDA,uBACF;MAAAA,iBAAS;MACTA,qBAAM;;;MALCA,eAAc;MAAdA,kCAAc;MAMhBA,eAAmB;MAAnBA,uDAAmB","names":["HomeComponent","constructor","uploadService","setFilename","files","filename","name","save","formData","FormData","append","upload","subscribe","path","imageSource","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["D:\\Work\\TestTask\\TestTask\\ClientApp\\src\\app\\home\\home.component.ts","D:\\Work\\TestTask\\TestTask\\ClientApp\\src\\app\\home\\home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { UploadService } from './UploadService';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent {\r\n  filename = '';\r\n\r\n  imageSource = '';\r\n\r\n  constructor(private uploadService: UploadService) {}\r\n\r\n  setFilename(files: any) {\r\n    if (files[0]) {\r\n      this.filename = files[0].name;\r\n    }\r\n  }\r\n\r\n  save(files: any) {\r\n    const formData = new FormData();\r\n\r\n    if (files[0]) {\r\n      formData.append(files[0].name, files[0]);\r\n    }\r\n\r\n    this.uploadService\r\n      .upload(formData)\r\n      .subscribe(({ path }) => (this.imageSource = path));\r\n  }\r\n}\r\n","<!--<h1>Hello, world!</h1>\r\n<p>Welcome to your new single-page application, built with:</p>\r\n<ul>\r\n  <li><a href='https://get.asp.net/'>ASP.NET Core</a> and <a href='https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx'>C#</a> for cross-platform server-side code</li>\r\n  <li><a href='https://angular.io/'>Angular</a> and <a href='http://www.typescriptlang.org/'>TypeScript</a> for client-side code</li>\r\n  <li><a href='http://getbootstrap.com/'>Bootstrap</a> for layout and styling</li>\r\n</ul>\r\n<p>To help you get started, we've also set up:</p>\r\n<ul>\r\n  <li><strong>Client-side navigation</strong>. For example, click <em>Counter</em> then <em>Back</em> to return here.</li>\r\n  <li><strong>Angular CLI integration</strong>. In development mode, there's no need to run <code>ng serve</code>. It runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file.</li>\r\n  <li><strong>Efficient production builds</strong>. In production mode, development-time features are disabled, and your <code>dotnet publish</code> configuration automatically invokes <code>ng build</code> to produce minified, ahead-of-time compiled JavaScript files.</li>\r\n</ul>-->\r\n\r\n\r\n\r\n<button type=\"button\" (click)=\"fileInput.click()\">\r\n  Choose File\r\n</button>\r\n<input\r\n  hidden\r\n  #fileInput\r\n  type=\"file\"\r\n  id=\"file\"\r\n  (change)=\"setFilename(fileInput.files)\"\r\n/>\r\n<label>{{ filename }}</label>\r\n<br />\r\n<button type=\"button\" (click)=\"save(fileInput.files)\">\r\n  Save\r\n</button>\r\n<br />\r\n<img [src]=\"imageSource\" />\r\n\r\n\r\n<!-- \r\n<div class=\"container px-4 py-5 mx-auto\">\r\n  <div class=\"card card0\">\r\n    <div class=\"d-flex flex-lg-row flex-column-reverse\">\r\n      <div class=\"card card1\">\r\n        <div class=\"row justify-content-center my-auto\">\r\n          <div class=\"col-md-8 col-10 my-5\">\r\n            <h3 class=\"mb-5 text-center heading\">We are Tidi</h3>\r\n            <h6 class=\"msg-info\">Please login to your account</h6>\r\n            <div class=\"form-group\"> <label class=\"form-control-label text-muted\">Email</label> <input type=\"text\" id=\"email\" name=\"email\" placeholder=\"Email\" class=\"form-control\"> </div>\r\n            <div class=\"row justify-content-center my-3 px-3\"> <button class=\"btn-block btn-color\">Login</button> </div>\r\n            <div class=\"bottom text-center mb-5\">\r\n              <button class=\"btn btn-white ml-2\">Create new</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      \r\n      </div>\r\n      <div class=\"card card2\">\r\n        <div class=\"my-auto mx-md-5 px-md-5 right\">\r\n          <h3 class=\"text-white\">We are more than just a company</h3> <small class=\"text-white\">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> -->\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}